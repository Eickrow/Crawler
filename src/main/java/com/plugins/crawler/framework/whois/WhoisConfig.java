package com.plugins.crawler.framework.whois;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.beans.factory.config.PropertiesFactoryBean;
import org.springframework.boot.autoconfigure.AutoConfigureBefore;
import org.springframework.context.annotation.Bean;
import org.springframework.core.annotation.Order;
import org.springframework.stereotype.Component;

import java.io.IOException;
import java.util.HashMap;
import java.util.Map;

/**
 * Created by david.yun on 2017/5/24.
 */
@Component
public class WhoisConfig {
    @Autowired
    PropertiesFactoryBean prop;
    public static String MAIN_REGX = "(\\w*\\.?){1}\\.(ac.ac|co.ac|gv.ac|or.ac|e164.arpa|ac.at|co.at|gv.at|or.at|priv.at|ac.be|adm.br|adv.br|am.br|arq.br|art.br|bio.br|cng.br|cnt.br|com.br|ecn.br|eng.br|esp.br|etc.br|eti.br|fm.br|fot.br|fst.br|g12.br|gov.br|ind.br|inf.br|jor.br|lel.br|med.br|mil.br|net.br|nom.br|ntr.br|odo.br|org.br|ppg.br|pro.br|psc.br|psi.br|rec.br|slg.br|tmp.br|tur.br|tv.br|vet.br|zlg.br|za.bz|co.ca|ac.cn|ah.cn|bj.cn|com.cn|cq.cn|edu.cn|gd.cn|gov.cn|gs.cn|gx.cn|gz.cn|hb.cn|he.cn|hi.cn|hk.cn|hl.cn|hn.cn|jl.cn|js.cn|ln.cn|mo.cn|net.cn|nm.cn|nx.cn|org.cn|qh.cn|sc.cn|sh.cn|sn.cn|tj.cn|tw.cn|xj.cn|xz.cn|yn.cn|zj.cn|com.co|net.co|nom.co|uk.co|ae.com|africa.com|ar.com|br.com|cn.com|co.com|de.com|eu.com|gb.com|gr.com|hu.com|jpn.com|kr.com|lovesnaija.com|no.com|qc.com|ru.com|sa.com|se.com|uk.com|us.com|uy.com|web.com|za.com|com.de|com.ec|fin.ec|gov.ec|med.ec|mil.ec|net.ec|org.ec|aeroport.fr|asso.fr|avocat.fr|chambagri.fr|chirurgiens-dentistes.fr|com.fr|experts-comptables.fr|geometre-expert.fr|medecin.fr|notaires.fr|pharmacien.fr|port.fr|presse.fr|tm.fr|veterinaire.fr|com.hk|edu.hk|net.hk|org.hk|go.id|mil.id|ac.il|co.il|gov.il|k12.il|muni.il|net.il|org.il|ac.in|co.in|ernet.in|gov.in|net.in|org.in|res.in|ac.jp|ac.ke|co.ke|ac.kr|co.kr|go.kr|ne.kr|nm.kr|or.kr|re.kr|eu.lv|asso.mc|tm.mc|com.mm|edu.mm|gov.mm|net.mm|org.mm|com.mx|edu.mx|gob.mx|gov.mx|net.mx|org.mx|com.my|edu.my|gov.my|net.my|org.my|gb.net|hu.net|in.net|jp.net|se.net|uk.net|za.net|ac.nz|co.nz|geek.nz|gen.nz|iwi.nz|kiwi.nz|maori.nz|net.nz|org.nz|school.nz|ae.org|eu.org|us.org|za.org|agro.pl|aid.pl|atm.pl|auto.pl|biz.pl|co.pl|com.pl|edu.pl|gmina.pl|gsm.pl|info.pl|mail.pl|media.pl|miasta.pl|mil.pl|net.pl|nom.pl|org.pl|pc.pl|priv.pl|realestate.pl|rel.pl|shop.pl|sklep.pl|sos.pl|targi.pl|tm.pl|tourism.pl|travel.pl|turystyka.pl|com.pt|edu.pt|arts.ro|com.ro|firm.ro|info.ro|nom.ro|nt.ro|org.ro|rec.ro|store.ro|tm.ro|www.ro|co.rs|edu.rs|in.rs|org.rs|com.ru|edu.ru|msk.ru|net.ru|org.ru|pp.ru|spb.ru|com.se|com.sg|edu.sg|gov.sg|net.sg|org.sg|sochi.su|ac.th|co.th|go.th|in.th|mi.th|net.th|or.th|bbs.tr|com.tr|edu.tr|gov.tr|k12.tr|mil.tr|net.tr|org.tr|com.tw|net.tw|org.tw|biz.ua|co.ua|com.ua|dn.ua|in.ua|kh.ua|kiev.ua|lg.ua|lviv.ua|net.ua|org.ua|pp.ua|ac.uk|co.uk|gov.uk|ltd.uk|me.uk|net.uk|org.uk|plc.uk|fed.us|co.ve|com.ve|info.ve|net.ve|org.ve|web.ve|ac.za|alt.za|co.za|edu.za|gov.za|mil.za|net.za|ngo.za|nom.za|org.za|school.za|tm.za|web.za|aarp|abarth|abbott|abbvie|abc|abogado|abudhabi|ac|academy|accountant|accountants|aco|active|actor|ad|adac|ads|adult|ae|aeg|aero|af|afamilycompany|afl|ag|agakhan|agency|ai|aigo|airbus|airforce|airtel|akdn|alfaromeo|alibaba|alipay|allfinanz|allstate|ally|alsace|alstom|am|americanfamily|amfam|amsterdam|android|anquan|anz|aol|apartments|app|apple|aquarelle|archi|army|arpa|art|arte|as|asda|asia|associates|at|attorney|au|auction|audi|audio|auspost|auto|autos|avianca|aw|baidu|band|bank|bar|barcelona|barclaycard|barclays|barefoot|bargains|basketball|bauhaus|bayern|bbc|bbt|bbva|bcg|bcn|be|beats|beauty|beer|bentley|berlin|best|bestbuy|bet|bg|bi|bid|bike|bingo|bio|biz|bj|black|blackfriday|blanco|blockbuster|blog|blue|bms|bmw|bn|bnl|bnpparibas|bo|boats|boehringer|bofa|bom|bond|boo|boots|bosch|bostik|boutique|br|bradesco|bridgestone|broadway|broker|brother|brussels|budapest|bugatti|build|builders|business|buy|buzz|bw|by|bz|bzh|ca|cab|cafe|cal|cam|camera|camp|cancerresearch|canon|capetown|capital|capitalone|car|cards|care|career|careers|cars|casa|case|caseih|cash|casino|cat|catering|cba|cbs|cc|cd|ceb|center|ceo|cern|cf|cfa|cfd|ch|chanel|channel|chat|cheap|chintai|christmas|chrome|chrysler|church|ci|cipriani|city|cityeats|cl|claims|cleaning|click|clinic|clinique|clothing|cloud|club|clubmed|cm|cn|co|coach|codes|coffee|college|cologne|com|comcast|commbank|community|company|compare|computer|comsec|condos|construction|consulting|contact|contractors|cooking|cookingchannel|cool|coop|corsica|country|coupons|courses|cr|credit|creditcard|creditunion|cricket|cruises|csc|cuisinella|cx|cymru|cyou|cz|dabur|dad|dance|date|dating|datsun|day|dclk|dds|de|deals|degree|delivery|deloitte|delta|democrat|dental|dentist|desi|design|dev|diamonds|diet|digital|direct|directory|discount|dish|diy|dk|dm|docs|doctor|dodge|dog|doha|domains|doosan|dot|download|drive|dtv|dubai|duck|dunlop|durban|dvag|dvr|dz|eat|ec|eco|edeka|edu|education|ee|email|emerck|energy|engineer|engineering|enterprises|epson|equipment|ericsson|erni|es|esq|estate|esurance|eu|eurovision|eus|events|everbank|exchange|expert|exposed|express|extraspace|fage|fail|fairwinds|faith|family|fan|fans|farm|fashion|fedex|feedback|ferrari|fi|fiat|fidelity|fido|film|final|finance|financial|firestone|firmdale|fish|fishing|fit|fitness|fj|flights|florist|flowers|flsmidth|fly|fm|fo|foo|foodnetwork|football|forex|forsale|forum|foundation|fr|fresenius|frl|frogans|frontdoor|fujitsu|fujixerox|fund|furniture|futbol|fyi|gal|gallery|gallo|gallup|game|games|garden|gbiz|gd|gdn|gea|gent|genting|george|gg|ggee|gi|gift|gifts|gives|giving|gl|glade|glass|gle|global|globo|gmail|gmbh|gmx|godaddy|gold|goldpoint|golf|goo|goodhands|goodyear|goog|google|gop|gov|gq|graphics|gratis|green|gripe|group|gs|guge|guide|guitars|guru|gy|hamburg|hangout|haus|hdfc|hdfcbank|healthcare|help|helsinki|here|hermes|hgtv|hiphop|hisamitsu|hitachi|hiv|hk|hkt|hm|hn|hockey|holdings|holiday|homedepot|homes|honda|horse|host|hosting|house|how|hr|ht|hu|hughes|hyundai|ibm|icbc|ice|icu|id|ie|ifm|iinet|ikano|il|im|imamat|immo|immobilien|in|industries|infiniti|info|ing|ink|institute|insurance|insure|int|international|investments|io|ir|irish|is|iselect|ismaili|ist|istanbul|it|itv|iveco|jaguar|java|jcb|jcp|je|jeep|jetzt|jewelry|jll|jobs|joburg|jp|juegos|juniper|kaufen|kddi|ke|kerryhotels|kerrylogistics|kerryproperties|kfh|ki|kia|kim|kitchen|kiwi|kn|koeln|komatsu|kosher|kr|krd|kred|kuokgroup|ky|kyoto|kz|la|lacaixa|ladbrokes|lamborghini|lamer|lancaster|lancia|lancome|land|landrover|lasalle|lat|latino|latrobe|law|lawyer|lc|lds|lease|leclerc|lefrak|legal|lego|lexus|lgbt|li|liaison|lidl|life|lifestyle|lighting|limited|limo|linde|link|lipsy|live|lixil|loan|loans|locker|locus|lol|london|lotte|lotto|love|lpl|lplfinancial|lt|ltd|ltda|lu|lundbeck|luxe|luxury|lv|ly|ma|macys|madrid|maison|makeup|man|management|mango|market|marketing|markets|marriott|maserati|mba|mckinsey|md|me|med|media|meet|melbourne|meme|memorial|men|menu|metlife|mg|miami|mil|mini|mit|mitsubishi|mk|ml|mls|mma|mn|mo|mobi|moda|moe|mom|monash|money|monster|mopar|mormon|mortgage|moscow|motorcycles|mov|movie|movistar|ms|mtn|mtpc|mtr|mu|museum|mutuelle|mx|mz|na|nab|nadex|nagoya|name|nationwide|natura|navy|nc|nec|net|netbank|network|new|newholland|news|next|nextdirect|nexus|nf|ng|ngo|nico|nikon|ninja|nissan|nissay|nl|no|nokia|norton|nowruz|nowtv|nra|nrw|nu|nyc|nz|obi|observer|off|olayan|olayangroup|ollo|om|omega|one|ong|onl|online|onyourside|ooo|oracle|orange|org|organic|orientexpress|origin|origins|osaka|ott|ovh|page|panasonic|paris|pars|partners|parts|party|pccw|pe|pet|pf|philips|photo|photography|photos|physio|pics|pictures|pid|pink|pioneer|pizza|pl|place|play|playstation|plumbing|plus|pm|pnc|pohl|poker|politie|porn|post|pr|press|pro|prod|productions|prof|progressive|promo|properties|property|protection|ps|pt|pub|pw|pwc|qa|qpon|quebec|quest|racing|radio|raid|re|realestate|realty|recipes|red|redstone|redumbrella|rehab|reise|reisen|reit|rent|rentals|repair|report|republican|rest|restaurant|review|reviews|rexroth|rich|richardli|ricoh|rightathome|rio|rip|ro|rocks|rodeo|rogers|rs|rsvp|ru|ruhr|run|rw|rwe|sa|saarland|sale|salon|samsclub|samsung|sandvik|sandvikcoromant|sanofi|sap|sarl|saxo|sb|sbi|sbs|sc|sca|scb|schaeffler|schmidt|scholarships|school|schule|schwarz|science|scjohnson|scor|scot|se|seat|security|seek|select|services|ses|seven|sew|sex|sexy|sfr|sg|sh|shangrila|sharp|shaw|shell|shia|shiksha|shoes|shopping|shouji|show|showtime|shriram|si|sina|singles|site|sk|ski|skin|sky|sl|sling|sm|smart|sn|sncf|so|soccer|social|softbank|software|sohu|solar|solutions|sony|soy|space|spiegel|spreadbetting|srl|srt|st|stada|star|starhub|statebank|statoil|stc|stcgroup|stockholm|storage|store|studio|study|style|su|sucks|supplies|supply|support|surf|surgery|swatch|swiss|sx|sy|sydney|symantec|systems|tab|taipei|tatamotors|tatar|tattoo|tax|taxi|tc|tci|tdk|team|tech|technology|tel|telecity|telefonica|temasek|tennis|teva|tf|tg|th|thd|theater|theatre|tiaa|tickets|tienda|tiffany|tiffay|tips|tires|tirol|tk|tl|tm|tn|to|today|tokyo|tools|top|toray|toshiba|total|tours|town|toyota|toys|tr|trade|trading|training|travel|travelchannel|travelers|travelersinsurance|trust|trv|tui|tv|tvs|tw|tz|ua|ubank|ubs|uconnect|ug|uk|university|uno|uol|ups|us|uy|uz|vacations|vana|vanguard|vc|ve|vegas|ventures|verisign|vermögensberater|vermögensberatung|versicherung|vet|vg|viajes|video|vig|viking|villas|vin|vip|virgin|visa|vision|vista|vistaprint|viva|vlaanderen|vodka|volkswagen|volvo|vote|voting|voto|voyage|vu|wales|walmart|walter|wang|warman|watch|webcam|weber|website|wed|wedding|weibo|wf|whoswho|wien|wiki|win|wine|wme|wolterskluwer|woodside|work|works|world|ws|wtc|wtf|xerox|xfinity|xihuan|xin|xperia|xxx|xyz|yachts|yodobashi|yoga|youtube|yt|yun|zara|zip|zm|zone|zuerich|бг|бел|дети|ею|ком|мкд|москва|онлайн|орг|рус|рф|сайт|срб|укр|қаз|հայ|קום|ابوظبي|الجزائر|السعودية|العليان|امارات|ایران|بيتك|بھارت|سورية|شبكة|عمان|فلسطين|قطر|كوم|مصر|موقع|همراه|कॉम|नेट|भारत|संगठन|ভারত|ਭਾਰਤ|ભારત|இந்தியா|சிங்கப்பூர்|భారత్|คอม|ไทย|გე|みんな|グーグル|コム|世界|中信|中国|中國|中文网|企业|佛山|信息|八卦|公司|公益|台湾|台灣|商城|商店|嘉里|嘉里大酒店|在线|大众汽车|大拿|娱乐|工行|广东|微博|慈善|我爱你|手机|政务|政府|新加坡|新闻|时尚|机构|淡马锡|游戏|澳門|点看|移动|组织机构|网址|网店|网站|网络|联通|诺基亚|谷歌|购物|集团|電訊盈科|飞利浦|香格里拉|香港|닷넷|닷컴|삼성|한국)$";
    ;

    @Bean(name = "whois")
    @Order(1)
    public Map<String, String> whois() throws IOException {
        Map<String, String> whoisMap = new HashMap<>();
        prop.getObject().stringPropertyNames().forEach(name -> {
            if (name.startsWith(".")) {
                try {
                    whoisMap.put(name, prop.getObject().getProperty(name));
                } catch (IOException e) {
                    e.printStackTrace();
                }
            }
        });
        return whoisMap;
    }

}
